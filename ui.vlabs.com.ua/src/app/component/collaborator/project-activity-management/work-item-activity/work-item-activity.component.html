<mat-progress-spinner *ngIf="!completed" [diameter]="35" mode="indeterminate"></mat-progress-spinner>
<mat-card *ngIf="completed">
    <mat-card-header>
        <mat-card-title>Project: <b>{{project.name}}</b></mat-card-title>
        <mat-card-subtitle>Alias: <i>{{project.alias}}</i></mat-card-subtitle>
    </mat-card-header>
    <div *ngIf="project.description">
        {{project.description}}
        <hr/>
    </div>
    <mat-card-content>

        <mat-card>
            <mat-card-header>
                <div *ngIf="workItem.type == 'resource'" mat-card-avatar class="work-item-resource-header-image"></div>
                <div *ngIf="workItem.type == 'blender_model'" mat-card-avatar class="work-item-blender-header-image"></div>
                <div *ngIf="workItem.type == 'vlab_item'" mat-card-avatar class="work-item-vlabitem-header-image"></div>
                <mat-card-title>Work Item: <b>{{workItem.title}}</b></mat-card-title>
                <mat-card-subtitle>Alias: <i>{{workItem.alias}}</i></mat-card-subtitle>
            </mat-card-header>
            <div *ngIf="workItem.notes">
                <i>{{workItem.notes}}</i>
                <hr/>
            </div>
            <mat-card-content>
                <div ng2FileDrop
                        [ngClass]="{'file-drop-zone-over': hasBaseDropZoneOver}"
                        (fileOver)="fileOverBase($event)"
                        [uploader]="uploader"
                        class="file-drop-zone">
                </div>
                <button mat-button (click)="fileInput.click()">
                    <mat-icon>attach_file</mat-icon>
                    <span>Select File</span>
                    <input #fileInput type="file" ng2FileSelect [uploader]="uploader" multiple hidden/>
                </button>

                <div *ngIf="uploader?.queue?.length > 0">
                    <hr/>
                    <h3>Upload queue</h3>
                    <p>Queue length: {{ uploader?.queue?.length }}</p>
                    <mat-list role="list">
                        <mat-list-item *ngFor="let item of uploader.queue">
                            <table style="width: 100%;">
                                <tr>
                                    <td width="50%">{{ item?.file?.name }}</td>
                                    <td width="25%">{{ item?.file?.size /1024/1024 | number:'.3' }} Mb</td>
                                    <td width="25%">
                                        <button mat-button (click)="item.remove()" *ngIf="!item.isSuccess"><mat-icon style="color: rgba(201, 65, 65, 0.767)">remove_circle</mat-icon></button>
                                        <mat-icon *ngIf="item.isSuccess" class="styles-success">done</mat-icon>
                                    </td>
                                </tr>
                            </table>
                        </mat-list-item>
                    </mat-list>
                    <hr/>

                    <button mat-button class="addButton" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
                        <mat-icon>file_upload</mat-icon>
                        <span>Upload File(s)</span>
                    </button>
                </div>

            </mat-card-content>
        </mat-card>

    </mat-card-content>
</mat-card>